{
  "openapi": "3.0.1",
  "info": {
    "title": "Electric Vehicle Dealer Management System API",
    "description": "API documentation for EV Dealer Management System — SWP391 Project",
    "contact": {
      "name": "SWP391 Team",
      "url": "https://github.com/swp391",
      "email": "swp391@example.com"
    },
    "license": {
      "name": "MIT License",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://deflexed-burdenedly-clemente.ngrok-free.dev",
      "description": "Public API for Teacher Test (Ngrok)"
    },
    {
      "url": "http://localhost:8080",
      "description": "Local Development"
    }
  ],
  "security": [
    {
      "Bearer Authentication": []
    }
  ],
  "tags": [
    {
      "name": "Xác thực (B2B)",
      "description": "Các API xác thực & quản trị tài khoản nội bộ (Admin/EVM/Dealer)"
    },
    {
      "name": "Quản lý đơn hàng (Dealer)",
      "description": "Các API để Dealer tạo và xem các đơn hàng của chính mình"
    },
    {
      "name": "Quản lý cấp độ đại lý (Dealer Level)",
      "description": "Các API quản trị cấp độ đại lý cho hệ thống B2B"
    },
    {
      "name": "Quản lý màu xe theo Model",
      "description": "Các API cho phép gán, chỉnh sửa và quản lý màu sắc của từng model xe"
    },
    {
      "name": "Quản lý vai trò & phân quyền (Role/Permission)",
      "description": "Các API phục vụ quản trị vai trò, quyền và gán quyền cho người dùng"
    },
    {
      "name": "Quản lý người dùng (Admin)",
      "description": "Các API dành cho Admin quản trị, tạo và quản lý tài khoản nội bộ"
    },
    {
      "name": "Quản lý khách hàng (Customer)",
      "description": "Các API cho phép đại lý quản lý thông tin khách hàng và xe đã mua"
    },
    {
      "name": "Quản lý đại lý (Dealer)",
      "description": "Các API phục vụ quản trị đại lý cho Admin và EVM"
    },
    {
      "name": "Quản lý xe (Vehicle Instance)",
      "description": "Các API cho phép quản lý xe vật lý: tìm kiếm, cập nhật trạng thái, bán cho khách"
    },
    {
      "name": "Quản lý màu xe (Color)",
      "description": "Các API dành cho quản trị viên hoặc nhân viên EVM để tạo, chỉnh sửa, và quản lý màu xe"
    },
    {
      "name": "Quản lý đơn hàng (Admin)",
      "description": "Các API quản trị đơn hàng cho Admin – duyệt, hủy, xác nhận thanh toán"
    }
  ],
  "paths": {
    "/api/vehicle-models/{id}": {
      "get": {
        "tags": [
          "vehicle-model-controller"
        ],
        "summary": "Lấy chi tiết một Vehicle Model theo ID",
        "operationId": "getVehicleModelById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleModelResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "vehicle-model-controller"
        ],
        "summary": "Cập nhật Vehicle Model",
        "description": "Cho phép cập nhật các trường kỹ thuật, giá, mô tả, hình ảnh.\nNếu đổi 'modelCode' sẽ kiểm tra trùng trước khi cập nhật.\nYêu cầu quyền 'vehicleModel.update'.\n",
        "operationId": "updateVehicleModel",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleModelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleModelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-instances/{id}/status": {
      "put": {
        "tags": [
          "Quản lý xe (Vehicle Instance)"
        ],
        "summary": "Cập nhật trạng thái xe (IN_STOCK ↔ RESERVED)",
        "operationId": "updateStatus",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "IN_STOCK",
                "RESERVED",
                "SOLD"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleInstanceResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealers/{dealerId}": {
      "get": {
        "tags": [
          "Quản lý đại lý (Dealer)"
        ],
        "summary": "Lấy chi tiết Dealer",
        "description": "Trả về thông tin chi tiết của một Dealer theo ID",
        "operationId": "getDealer",
        "parameters": [
          {
            "name": "dealerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Quản lý đại lý (Dealer)"
        ],
        "summary": "Cập nhật thông tin Dealer",
        "description": "Chỉnh sửa thông tin của một Dealer cụ thể",
        "operationId": "updateDealer",
        "parameters": [
          {
            "name": "dealerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DealerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealer-levels/{id}": {
      "get": {
        "tags": [
          "Quản lý cấp độ đại lý (Dealer Level)"
        ],
        "summary": "Lấy chi tiết cấp độ đại lý",
        "description": "Trả về thông tin chi tiết của một cấp độ đại lý theo ID",
        "operationId": "getDealerLevel",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerLevelResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Quản lý cấp độ đại lý (Dealer Level)"
        ],
        "summary": "Cập nhật cấp độ đại lý",
        "description": "Chỉnh sửa thông tin của cấp độ đại lý theo ID",
        "operationId": "updateDealerLevel",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EditDealerLevelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerLevelResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Quản lý cấp độ đại lý (Dealer Level)"
        ],
        "summary": "Xóa cấp độ đại lý",
        "description": "Xóa một cấp độ đại lý khỏi hệ thống",
        "operationId": "deleteDealerLevel",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/customers/{id}": {
      "get": {
        "tags": [
          "Quản lý khách hàng (Customer)"
        ],
        "summary": "Lấy chi tiết khách hàng (bao gồm xe đã mua)",
        "operationId": "getById_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCustomerDetailResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Quản lý khách hàng (Customer)"
        ],
        "summary": "Cập nhật thông tin khách hàng",
        "operationId": "update",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCustomerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/colors/{id}": {
      "get": {
        "tags": [
          "Quản lý màu xe (Color)"
        ],
        "summary": "Lấy chi tiết màu theo ID",
        "operationId": "getColorById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseColorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Quản lý màu xe (Color)"
        ],
        "summary": "Cập nhật thông tin màu",
        "description": "Cho phép cập nhật tên và mã hex.\nNếu đổi mã hex sẽ kiểm tra trùng.\nYêu cầu quyền 'color.update'.\n",
        "operationId": "updateColor",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ColorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseColorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-models/{modelId}/colors": {
      "get": {
        "tags": [
          "Quản lý màu xe theo Model"
        ],
        "summary": "Lấy danh sách màu của model",
        "description": "Trả về danh sách màu đã gán cho một model cụ thể",
        "operationId": "getColorsByModel",
        "parameters": [
          {
            "name": "modelId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListVehicleModelColorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý màu xe theo Model"
        ],
        "summary": "Gán màu vào model xe",
        "description": "Dành cho ADMIN hoặc EVM_STAFF có quyền 'vehicleModelColor.create'.\nCho phép gán màu sẵn trong catalog vào model cụ thể, kèm chênh lệch giá tùy chọn.\n",
        "operationId": "assignColor",
        "parameters": [
          {
            "name": "modelId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "colorId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "priceAdjustment",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleModelColorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-models/create": {
      "post": {
        "tags": [
          "vehicle-model-controller"
        ],
        "summary": "Tạo model xe mới",
        "description": "Dành cho ADMIN hoặc EVM_STAFF có quyền 'vehicleModel.create'.\nBao gồm thông tin kỹ thuật, giá nhà sản xuất, hình ảnh và mô tả.\n",
        "operationId": "createVehicleModel",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleModelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleModelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-instances/{id}/assign-customer": {
      "post": {
        "tags": [
          "Quản lý xe (Vehicle Instance)"
        ],
        "summary": "Gán xe cho khách hàng",
        "operationId": "assignToCustomer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "customerId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/{roleId}/permissions/add": {
      "post": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Thêm permissions vào Role",
        "description": "Thêm danh sách quyền mới vào role, bỏ qua quyền đã tồn tại",
        "operationId": "addPermissions",
        "parameters": [
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionBulkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRoleDetailResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/{id}/reset": {
      "post": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Reset Role về mặc định",
        "description": "Đặt lại Role về cấu hình mặc định (yêu cầu restart ứng dụng để áp dụng permissions mới)",
        "operationId": "resetToDefault",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseResetRoleResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/assign/users/{userId}/roles/{roleId}": {
      "post": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Gán Role cho User",
        "description": "Gán một vai trò cụ thể cho người dùng",
        "operationId": "assignRoleToUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Gỡ Role khỏi User",
        "description": "Xóa vai trò đã được gán khỏi người dùng",
        "operationId": "unassignRoleFromUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealers": {
      "get": {
        "tags": [
          "Quản lý đại lý (Dealer)"
        ],
        "summary": "Lấy danh sách Dealer",
        "description": "Trả về danh sách tất cả các Dealer (phụ thuộc quyền)",
        "operationId": "getAllDealers",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListDealerResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý đại lý (Dealer)"
        ],
        "summary": "Tạo mới Dealer",
        "description": "Tạo mới một đại lý (chỉ Admin/EVM được phép)",
        "operationId": "createDealer",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DealerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealer/orders": {
      "get": {
        "tags": [
          "Quản lý đơn hàng (Dealer)"
        ],
        "summary": "Xem danh sách đơn hàng của Dealer",
        "description": "Trả về danh sách tất cả các đơn hàng thuộc Dealer hiện tại",
        "operationId": "getMyOrders",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListOrderResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý đơn hàng (Dealer)"
        ],
        "summary": "Tạo yêu cầu nhập xe",
        "description": "Dealer tạo đơn hàng nhập xe mới vào hệ thống",
        "operationId": "createOrder",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrderResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealer-levels": {
      "get": {
        "tags": [
          "Quản lý cấp độ đại lý (Dealer Level)"
        ],
        "summary": "Lấy danh sách cấp độ đại lý",
        "description": "Trả về danh sách tất cả cấp độ đại lý hiện có",
        "operationId": "getAllDealerLevels",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListDealerLevelResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý cấp độ đại lý (Dealer Level)"
        ],
        "summary": "Tạo cấp độ đại lý",
        "description": "Thêm mới một cấp độ đại lý trong hệ thống",
        "operationId": "createDealerLevel",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDealerLevelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerLevelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/customers": {
      "get": {
        "tags": [
          "Quản lý khách hàng (Customer)"
        ],
        "summary": "Lấy toàn bộ khách hàng (không lọc)",
        "operationId": "getAll_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListCustomerResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý khách hàng (Customer)"
        ],
        "summary": "Tạo mới khách hàng",
        "operationId": "create",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseCustomerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/colors": {
      "get": {
        "tags": [
          "Quản lý màu xe (Color)"
        ],
        "summary": "Lấy danh sách màu sắc",
        "description": "Thêm `?includeInactive=true` để lấy cả các màu đã vô hiệu hóa.",
        "operationId": "getAllColors",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListColorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý màu xe (Color)"
        ],
        "summary": "Tạo màu mới",
        "description": "Dành cho ADMIN hoặc EVM_STAFF có quyền 'color.create'.\nBao gồm tên màu và mã hex (#RRGGBB).\n",
        "operationId": "createColor",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ColorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseColorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/reset-password": {
      "post": {
        "tags": [
          "Xác thực (B2B)"
        ],
        "summary": "Đặt lại mật khẩu bằng OTP",
        "operationId": "resetPassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/refresh-token": {
      "post": {
        "tags": [
          "Xác thực (B2B)"
        ],
        "summary": "Làm mới Access Token",
        "description": "Dùng Refresh Token để lấy Access Token mới",
        "operationId": "refreshToken",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRefreshTokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "Xác thực (B2B)"
        ],
        "summary": "Đăng nhập",
        "description": "Xác thực và trả về Access Token + Refresh Token",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseLoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/forgot-password": {
      "post": {
        "tags": [
          "Xác thực (B2B)"
        ],
        "summary": "Quên mật khẩu - gửi OTP",
        "operationId": "forgotPassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/forgot-password/resend-otp": {
      "post": {
        "tags": [
          "Xác thực (B2B)"
        ],
        "summary": "Gửi lại OTP quên mật khẩu",
        "operationId": "resendForgotPasswordOtp",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/change-password": {
      "post": {
        "tags": [
          "Xác thực (B2B)"
        ],
        "summary": "Đổi mật khẩu (đã đăng nhập)",
        "operationId": "changePassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Lấy danh sách tất cả user (có giới hạn theo role)",
        "operationId": "getAllUsers",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListUserResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Tạo người dùng nội bộ",
        "description": "ADMIN: tạo được EVM_STAFF, DEALER_MANAGER, DEALER_STAFF.\nEVM_STAFF: tạo được DEALER_MANAGER, DEALER_STAFF.\nDEALER_MANAGER: tạo được DEALER_STAFF (trong dealer của mình).\nHệ thống sẽ gửi email OTP để xác thực & đặt mật khẩu lần đầu.\n",
        "operationId": "createUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/orders/{orderId}/installments/{installmentNumber}/confirm": {
      "post": {
        "tags": [
          "Quản lý đơn hàng (Admin)"
        ],
        "summary": "Xác nhận thanh toán kỳ trả góp",
        "description": "Xác nhận Admin đã nhận thanh toán cho một kỳ trả góp của đơn hàng CONFIRMED",
        "operationId": "confirmInstallmentPayment",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "installmentNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrderResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-models/{modelId}/colors/{colorId}/price-adjustment": {
      "patch": {
        "tags": [
          "Quản lý màu xe theo Model"
        ],
        "summary": "Cập nhật chênh lệch giá của màu",
        "description": "Cập nhật phần chênh lệch giá cho một màu đã gán với model cụ thể",
        "operationId": "updatePriceAdjustment",
        "parameters": [
          {
            "name": "modelId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "colorId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "newAdjustment",
            "in": "query",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleModelColorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-instances/{id}/deactivate": {
      "patch": {
        "tags": [
          "Quản lý xe (Vehicle Instance)"
        ],
        "summary": "Vô hiệu hóa xe",
        "operationId": "deactivate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-instances/{id}/activate": {
      "patch": {
        "tags": [
          "Quản lý xe (Vehicle Instance)"
        ],
        "summary": "Kích hoạt lại xe",
        "operationId": "activate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealers/{dealerId}/deactivate": {
      "patch": {
        "tags": [
          "Quản lý đại lý (Dealer)"
        ],
        "summary": "Vô hiệu hóa Dealer",
        "description": "Chuyển Dealer sang trạng thái không hoạt động (inactive)",
        "operationId": "deactivateDealer",
        "parameters": [
          {
            "name": "dealerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealers/{dealerId}/activate": {
      "patch": {
        "tags": [
          "Quản lý đại lý (Dealer)"
        ],
        "summary": "Kích hoạt lại Dealer",
        "description": "Kích hoạt lại Dealer từ trạng thái inactive",
        "operationId": "activateDealer",
        "parameters": [
          {
            "name": "dealerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseDealerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/customers/{id}/deactivate": {
      "patch": {
        "tags": [
          "Quản lý khách hàng (Customer)"
        ],
        "summary": "Vô hiệu hóa khách hàng",
        "operationId": "deactivate_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/customers/{id}/activate": {
      "patch": {
        "tags": [
          "Quản lý khách hàng (Customer)"
        ],
        "summary": "Kích hoạt lại khách hàng",
        "operationId": "activate_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/colors/{id}/deactivate": {
      "patch": {
        "tags": [
          "Quản lý màu xe (Color)"
        ],
        "summary": "Vô hiệu hóa màu",
        "description": "Ẩn màu khỏi hệ thống, yêu cầu quyền 'color.update'.",
        "operationId": "deactivateColor",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseColorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/colors/{id}/activate": {
      "patch": {
        "tags": [
          "Quản lý màu xe (Color)"
        ],
        "summary": "Kích hoạt lại màu",
        "description": "Cho phép kích hoạt lại màu đã bị vô hiệu hóa, yêu cầu quyền 'color.update'.",
        "operationId": "activateColor",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseColorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{id}": {
      "get": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Lấy chi tiết 1 user theo ID (có giới hạn theo role)",
        "operationId": "getUserById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserDetailResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Admin / EVM Staff / Dealer Manager cập nhật thông tin người khác",
        "operationId": "updateUserProfile",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserDetailResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{id}/deactivate": {
      "patch": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Vô hiệu hóa người dùng",
        "description": "Chuyển trạng thái người dùng sang không hoạt động (inactive)",
        "operationId": "deactivateUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseObject"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{id}/assign-dealer/{dealerId}": {
      "patch": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Gán user vào một đại lý",
        "operationId": "assignUserToDealer",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "dealerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{id}/activate": {
      "patch": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Kích hoạt lại người dùng",
        "description": "Kích hoạt lại người dùng từ trạng thái inactive",
        "operationId": "activateUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseObject"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/me": {
      "get": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Lấy thông tin cá nhân của user hiện tại",
        "operationId": "getMyProfile",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserDetailResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Quản lý người dùng (Admin)"
        ],
        "summary": "Cập nhật thông tin cá nhân (profile của chính mình)",
        "operationId": "updateMyProfile",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserProfileRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseUserDetailResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/orders/{orderId}/cancel": {
      "patch": {
        "tags": [
          "Quản lý đơn hàng (Admin)"
        ],
        "summary": "Hủy đơn hàng",
        "description": "Admin hủy đơn hàng khi đơn chưa hoàn tất hoặc chưa giao xe",
        "operationId": "cancelOrder",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrderResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/orders/{orderId}/approve": {
      "patch": {
        "tags": [
          "Quản lý đơn hàng (Admin)"
        ],
        "summary": "Duyệt đơn hàng (Approve)",
        "description": "Phê duyệt đơn hàng, tự động tạo VIN/Engine và nhập hàng vào kho Dealer tương ứng",
        "operationId": "approve",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrderApproveResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-models": {
      "get": {
        "tags": [
          "vehicle-model-controller"
        ],
        "summary": "Lấy danh sách tất cả Vehicle Models",
        "description": "Thêm ?includeInactive=true để lấy cả các model đã vô hiệu hóa (nếu hệ thống sử dụng cờ này).",
        "operationId": "getAllVehicleModels",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListVehicleModelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-instances": {
      "get": {
        "tags": [
          "Quản lý xe (Vehicle Instance)"
        ],
        "summary": "Lấy danh sách xe (lọc theo đại lý, trạng thái, active)",
        "operationId": "getAll",
        "parameters": [
          {
            "name": "dealerId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "IN_STOCK",
                "RESERVED",
                "SOLD"
              ]
            }
          },
          {
            "name": "activeOnly",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListVehicleInstanceResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-instances/{id}": {
      "get": {
        "tags": [
          "Quản lý xe (Vehicle Instance)"
        ],
        "summary": "Lấy chi tiết xe theo ID",
        "operationId": "getById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVehicleInstanceResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles": {
      "get": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Lấy danh sách tất cả Roles",
        "description": "Trả về danh sách đầy đủ các vai trò (roles) trong hệ thống",
        "operationId": "getAllRoles",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListRoleResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/{id}": {
      "get": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Lấy thông tin chi tiết của một Role",
        "description": "Trả về thông tin chi tiết và các permissions của một role theo ID",
        "operationId": "getRoleById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRoleDetailResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/permissions": {
      "get": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Lấy danh sách tất cả Permissions",
        "description": "Trả về toàn bộ danh sách quyền (permissions) trong hệ thống",
        "operationId": "getAllPermissions",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListPermissionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/dealer/orders/{orderId}": {
      "get": {
        "tags": [
          "Quản lý đơn hàng (Dealer)"
        ],
        "summary": "Xem chi tiết đơn hàng của Dealer",
        "description": "Trả về thông tin chi tiết một đơn hàng thuộc Dealer hiện tại theo ID",
        "operationId": "getMyOrderById",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrderResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/orders": {
      "get": {
        "tags": [
          "Quản lý đơn hàng (Admin)"
        ],
        "summary": "Lấy danh sách đơn hàng",
        "description": "Trả về danh sách tất cả đơn hàng trong hệ thống (dành cho Admin)",
        "operationId": "getAll_2",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseListOrderResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/orders/{orderId}": {
      "get": {
        "tags": [
          "Quản lý đơn hàng (Admin)"
        ],
        "summary": "Xem chi tiết đơn hàng",
        "description": "Trả về thông tin chi tiết của một đơn hàng theo ID",
        "operationId": "getById_2",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseOrderResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/vehicle-models/{modelId}/colors/{colorId}": {
      "delete": {
        "tags": [
          "Quản lý màu xe theo Model"
        ],
        "summary": "Gỡ màu khỏi model",
        "description": "Xóa quan hệ giữa model và màu cụ thể, yêu cầu quyền 'vehicleModelColor.delete'",
        "operationId": "unassignColor",
        "parameters": [
          {
            "name": "modelId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "colorId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseVoid"
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/{roleId}/permissions/remove": {
      "delete": {
        "tags": [
          "Quản lý vai trò & phân quyền (Role/Permission)"
        ],
        "summary": "Xóa permissions khỏi Role",
        "description": "Gỡ danh sách quyền khỏi role theo ID",
        "operationId": "removePermissions",
        "parameters": [
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RolePermissionBulkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponseRoleDetailResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "VehicleModelRequest": {
        "required": [
          "brand",
          "manufacturerPrice",
          "modelCode",
          "name",
          "year"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "modelCode": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "brand": {
            "type": "string"
          },
          "year": {
            "minimum": 2000,
            "type": "integer",
            "format": "int32"
          },
          "batteryCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "rangeKm": {
            "type": "integer",
            "format": "int32"
          },
          "chargingTime": {
            "type": "integer",
            "format": "int32"
          },
          "maxSpeed": {
            "type": "integer",
            "format": "int32"
          },
          "acceleration": {
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "seatingCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "cargoVolume": {
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "manufacturerPrice": {
            "minimum": 0,
            "exclusiveMinimum": true,
            "type": "number"
          },
          "imageUrl": {
            "type": "string"
          }
        }
      },
      "ApiResponseVehicleModelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/VehicleModelResponse"
          }
        }
      },
      "VehicleModelResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "modelCode": {
            "type": "string"
          },
          "brand": {
            "type": "string"
          },
          "year": {
            "type": "integer",
            "format": "int32"
          },
          "batteryCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "rangeKm": {
            "type": "integer",
            "format": "int32"
          },
          "chargingTime": {
            "type": "integer",
            "format": "int32"
          },
          "maxSpeed": {
            "type": "integer",
            "format": "int32"
          },
          "acceleration": {
            "type": "number"
          },
          "seatingCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "cargoVolume": {
            "type": "number"
          },
          "manufacturerPrice": {
            "type": "number"
          },
          "imageUrl": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseVehicleInstanceResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/VehicleInstanceResponse"
          }
        }
      },
      "VehicleInstanceResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "vin": {
            "type": "string"
          },
          "engineNumber": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "modelName": {
            "type": "string"
          },
          "colorName": {
            "type": "string"
          },
          "dealerName": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "manufacturingDate": {
            "type": "string",
            "format": "date"
          },
          "currentValue": {
            "type": "number"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DealerRequest": {
        "required": [
          "email",
          "levelNumber",
          "name",
          "phoneNumber",
          "region"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 255,
            "minLength": 3,
            "type": "string"
          },
          "address": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string"
          },
          "phoneNumber": {
            "pattern": "^[0-9]{10,11}$",
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "region": {
            "pattern": "^(NORTH|CENTRAL|SOUTH)$",
            "type": "string"
          },
          "levelNumber": {
            "maximum": 99,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseDealerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/DealerResponse"
          }
        }
      },
      "DealerResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "region": {
            "type": "string"
          }
        }
      },
      "EditDealerLevelRequest": {
        "required": [
          "creditLimit",
          "depositRate",
          "discountRate",
          "levelName",
          "maxInstallmentMonths",
          "maxOrderQuantity"
        ],
        "type": "object",
        "properties": {
          "levelName": {
            "type": "string"
          },
          "discountRate": {
            "maximum": 100,
            "exclusiveMaximum": false,
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "maxOrderQuantity": {
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "depositRate": {
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "creditLimit": {
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "maxInstallmentMonths": {
            "maximum": 36,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string"
          }
        }
      },
      "ApiResponseDealerLevelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/DealerLevelResponse"
          }
        }
      },
      "DealerLevelResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "levelName": {
            "type": "string"
          },
          "levelNumber": {
            "type": "integer",
            "format": "int32"
          },
          "discountRate": {
            "type": "number"
          },
          "depositRate": {
            "type": "number"
          },
          "maxOrderQuantity": {
            "type": "integer",
            "format": "int32"
          },
          "creditLimit": {
            "type": "number"
          },
          "maxInstallmentMonths": {
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "UpdateCustomerRequest": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "pattern": "^[0-9]{10,11}$",
            "type": "string"
          },
          "email": {
            "pattern": "^[\\w.%+-]+@[\\w.-]+\\.[a-zA-Z]{2,6}$",
            "type": "string"
          },
          "idNumber": {
            "pattern": "^[0-9]{9,12}$",
            "type": "string"
          },
          "dateOfBirth": {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          },
          "gender": {
            "pattern": "^(MALE|FEMALE|OTHER)$",
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "ApiResponseCustomerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/CustomerResponse"
          }
        }
      },
      "CustomerResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "idNumber": {
            "type": "string"
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date"
          },
          "gender": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ColorRequest": {
        "required": [
          "colorName",
          "hexCode"
        ],
        "type": "object",
        "properties": {
          "colorName": {
            "type": "string"
          },
          "hexCode": {
            "pattern": "^#([A-Fa-f0-9]{6})$",
            "type": "string"
          }
        }
      },
      "ApiResponseColorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ColorResponse"
          }
        }
      },
      "ColorResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "colorName": {
            "type": "string"
          },
          "hexCode": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseVehicleModelColorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/VehicleModelColorResponse"
          }
        }
      },
      "VehicleModelColorResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "vehicleModelId": {
            "type": "integer",
            "format": "int64"
          },
          "colorId": {
            "type": "integer",
            "format": "int64"
          },
          "colorName": {
            "type": "string"
          },
          "hexCode": {
            "type": "string"
          },
          "priceAdjustment": {
            "type": "number"
          },
          "imageUrl": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseVoid": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "object"
          }
        }
      },
      "RolePermissionBulkRequest": {
        "required": [
          "permissionIds"
        ],
        "type": "object",
        "properties": {
          "permissionIds": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      },
      "ApiResponseRoleDetailResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/RoleDetailResponse"
          }
        }
      },
      "PermissionInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "resource": {
            "type": "string"
          },
          "action": {
            "type": "string"
          }
        }
      },
      "RoleDetailResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "isCustomized": {
            "type": "boolean"
          },
          "permissions": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PermissionInfo"
            }
          }
        }
      },
      "ApiResponseResetRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ResetRoleResponse"
          }
        }
      },
      "ResetRoleResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/RoleDetailResponse"
          }
        }
      },
      "CreateOrderRequest": {
        "required": [
          "isInstallment",
          "orderDetails"
        ],
        "type": "object",
        "properties": {
          "isInstallment": {
            "type": "boolean"
          },
          "installmentMonths": {
            "maximum": 60,
            "minimum": 0,
            "type": "integer",
            "format": "int32"
          },
          "notes": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string"
          },
          "orderDetails": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderDetailRequest"
            }
          }
        }
      },
      "OrderDetailRequest": {
        "required": [
          "quantity",
          "vehicleModelColorId"
        ],
        "type": "object",
        "properties": {
          "vehicleModelColorId": {
            "type": "integer",
            "format": "int64"
          },
          "quantity": {
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseOrderResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/OrderResponse"
          }
        }
      },
      "DealerInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "code": {
            "type": "string"
          },
          "levelName": {
            "type": "string"
          },
          "currentDebt": {
            "type": "number"
          },
          "availableCredit": {
            "type": "number"
          }
        }
      },
      "InstallmentPlanInfo": {
        "type": "object",
        "properties": {
          "installmentNumber": {
            "type": "integer",
            "format": "int32"
          },
          "installmentAmount": {
            "type": "number"
          },
          "dueDate": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          },
          "isOverdue": {
            "type": "boolean"
          }
        }
      },
      "OrderDetailInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "vehicleModelName": {
            "type": "string"
          },
          "vehicleColorName": {
            "type": "string"
          },
          "quantity": {
            "type": "integer",
            "format": "int32"
          },
          "unitPrice": {
            "type": "number"
          },
          "totalPrice": {
            "type": "number"
          }
        }
      },
      "OrderResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "orderCode": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "totalAmount": {
            "type": "number"
          },
          "depositAmount": {
            "type": "number"
          },
          "paidAmount": {
            "type": "number"
          },
          "remainingAmount": {
            "type": "number"
          },
          "paymentProgress": {
            "type": "number"
          },
          "isInstallment": {
            "type": "boolean"
          },
          "fullPaymentDate": {
            "type": "string",
            "format": "date"
          },
          "orderDate": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string"
          },
          "dealer": {
            "$ref": "#/components/schemas/DealerInfo"
          },
          "createdBy": {
            "$ref": "#/components/schemas/UserInfo"
          },
          "orderDetails": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderDetailInfo"
            }
          },
          "installmentPlans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InstallmentPlanInfo"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserInfo": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          }
        }
      },
      "CreateDealerLevelRequest": {
        "required": [
          "creditLimit",
          "depositRate",
          "discountRate",
          "levelName",
          "levelNumber",
          "maxInstallmentMonths",
          "maxOrderQuantity"
        ],
        "type": "object",
        "properties": {
          "levelName": {
            "type": "string"
          },
          "levelNumber": {
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "discountRate": {
            "maximum": 100,
            "exclusiveMaximum": false,
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "depositRate": {
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "maxOrderQuantity": {
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "creditLimit": {
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "maxInstallmentMonths": {
            "maximum": 36,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string"
          }
        }
      },
      "CreateCustomerRequest": {
        "required": [
          "address",
          "dateOfBirth",
          "email",
          "fullName",
          "gender",
          "idNumber",
          "phoneNumber"
        ],
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "pattern": "^[0-9]{10,11}$",
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "idNumber": {
            "pattern": "^[0-9]{9,12}$",
            "type": "string"
          },
          "dateOfBirth": {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          },
          "gender": {
            "pattern": "^(MALE|FEMALE|OTHER)$",
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "ResetPasswordRequest": {
        "required": [
          "confirmPassword",
          "email",
          "newPassword",
          "otp"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "otp": {
            "pattern": "^\\d{6}$",
            "type": "string"
          },
          "newPassword": {
            "maxLength": 2147483647,
            "minLength": 6,
            "type": "string"
          },
          "confirmPassword": {
            "type": "string"
          }
        }
      },
      "RefreshTokenRequest": {
        "required": [
          "refreshToken"
        ],
        "type": "object",
        "properties": {
          "refreshToken": {
            "type": "string"
          }
        }
      },
      "ApiResponseRefreshTokenResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/RefreshTokenResponse"
          }
        }
      },
      "RefreshTokenResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "LoginRequest": {
        "required": [
          "password",
          "username"
        ],
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "ApiResponseLoginResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/LoginResponse"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          },
          "refreshToken": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "roleName": {
            "type": "string"
          },
          "mustChangePassword": {
            "type": "boolean"
          }
        }
      },
      "ForgotPasswordRequest": {
        "required": [
          "email"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          }
        }
      },
      "ChangePasswordRequest": {
        "required": [
          "confirmPassword",
          "newPassword",
          "oldPassword"
        ],
        "type": "object",
        "properties": {
          "oldPassword": {
            "type": "string"
          },
          "newPassword": {
            "maxLength": 2147483647,
            "minLength": 6,
            "type": "string"
          },
          "confirmPassword": {
            "type": "string"
          }
        }
      },
      "CreateUserRequest": {
        "required": [
          "dateOfBirth",
          "email",
          "fullName",
          "gender",
          "idNumber",
          "phoneNumber",
          "roleName"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "pattern": "^[0-9]{10,11}$",
            "type": "string"
          },
          "idNumber": {
            "type": "string"
          },
          "dateOfBirth": {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          },
          "gender": {
            "pattern": "^(MALE|FEMALE|OTHER)$",
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "roleName": {
            "pattern": "^(EVM_STAFF|DEALER_MANAGER|DEALER_STAFF)$",
            "type": "string"
          },
          "dealerId": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "UpdateUserProfileRequest": {
        "required": [
          "dateOfBirth",
          "email",
          "fullName",
          "gender",
          "idNumber",
          "phoneNumber"
        ],
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "pattern": "^[0-9]{10,11}$",
            "type": "string"
          },
          "idNumber": {
            "type": "string"
          },
          "dateOfBirth": {
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "type": "string"
          },
          "gender": {
            "pattern": "^(MALE|FEMALE|OTHER)$",
            "type": "string"
          },
          "address": {
            "type": "string"
          }
        }
      },
      "ApiResponseUserDetailResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/UserDetailResponse"
          }
        }
      },
      "UserDetailResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "idNumber": {
            "type": "string"
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date"
          },
          "gender": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "roles": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "dealerId": {
            "type": "integer",
            "format": "int64"
          },
          "dealerName": {
            "type": "string"
          }
        }
      },
      "ApiResponseObject": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "object"
          }
        }
      },
      "ApiResponseOrderApproveResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/OrderApproveResponse"
          }
        }
      },
      "OrderApproveResponse": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "integer",
            "format": "int64"
          },
          "orderCode": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "created": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ApiResponseListVehicleModelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VehicleModelResponse"
            }
          }
        }
      },
      "ApiResponseListVehicleModelColorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VehicleModelColorResponse"
            }
          }
        }
      },
      "ApiResponseListVehicleInstanceResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VehicleInstanceResponse"
            }
          }
        }
      },
      "ApiResponseListRoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RoleResponse"
            }
          }
        }
      },
      "RoleResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "isCustomized": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseListPermissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PermissionResponse"
            }
          }
        }
      },
      "PermissionResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "resource": {
            "type": "string"
          },
          "action": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          }
        }
      },
      "ApiResponseListDealerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DealerResponse"
            }
          }
        }
      },
      "ApiResponseListOrderResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderResponse"
            }
          }
        }
      },
      "ApiResponseListDealerLevelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DealerLevelResponse"
            }
          }
        }
      },
      "ApiResponseListCustomerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomerResponse"
            }
          }
        }
      },
      "ApiResponseCustomerDetailResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/CustomerDetailResponse"
          }
        }
      },
      "CustomerDetailResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "fullName": {
            "type": "string"
          },
          "phoneNumber": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "idNumber": {
            "type": "string"
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date"
          },
          "gender": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "vehiclesPurchased": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomerVehicleResponse"
            }
          }
        }
      },
      "CustomerVehicleResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "salePrice": {
            "type": "number"
          },
          "saleDate": {
            "type": "string",
            "format": "date"
          },
          "warrantyStartDate": {
            "type": "string",
            "format": "date"
          },
          "warrantyEndDate": {
            "type": "string",
            "format": "date"
          },
          "notes": {
            "type": "string"
          },
          "vin": {
            "type": "string"
          },
          "modelName": {
            "type": "string"
          },
          "colorName": {
            "type": "string"
          },
          "dealerName": {
            "type": "string"
          },
          "soldByUserName": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiResponseListColorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ColorResponse"
            }
          }
        }
      },
      "ApiResponseListUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserResponse"
            }
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "email": {
            "type": "string"
          },
          "fullName": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "roles": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "dealerId": {
            "type": "integer",
            "format": "int64"
          },
          "dealerName": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "Bearer Authentication": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
Beta
0 / 0
used queries
1